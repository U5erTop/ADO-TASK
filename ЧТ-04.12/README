# Практические задания по DataView в ADO.NET

## Задание 1: Основные преимущества использования DataView

**Описание:** Создайте консольное приложение, которое демонстрирует основные преимущества DataView:

1. Создайте DataTable с информацией о товарах (ProductID, Name, Price, Quantity, Category);
2. Заполните таблицу 15-20 товарами;
3. Продемонстрируйте преимущества DataView по сравнению с прямой работой с DataTable:
   - Фильтрация данных БЕЗ изменения исходной таблицы (OriginalTable.Select() vs DataView с фильтром);
   - Сортировка БЕЗ изменения порядка в исходной таблице;
   - Динамическое изменение фильтра и сортировки;
   - Работа с несколькими представлениями одной таблицы одновременно;
   - Автоматическое отражение изменений в DataTable в DataView;
4. Создайте несколько DataView с разными фильтрами/сортировками для одной таблицы;
5. Выведите сравнение производительности (время создания, время изменения фильтра);
6. Создайте отчёт о преимуществах DataView в различных сценариях.

**Требования:** Используйте Stopwatch для измерения производительности. Продемонстрируйте, что исходная таблица остаётся без изменений. Выведите результаты в консоль с форматированием.

---

## Задание 2: Поиск по первичному ключу с использованием метода Find()

**Описание:** Создайте приложение для демонстрации метода Find() при поиске по первичному ключу:

1. Создайте DataTable "Сотрудники" (EmployeeID [PK], FullName, Email, Department, Salary);
2. Установите первичный ключ на колонку EmployeeID;
3. Заполните таблицу 50 сотрудниками;
4. Реализуйте следующие операции поиска:
   - Поиск одного сотрудника по ID с использованием Find();
   - Поиск несуществующего ID и обработка null результата;
   - Сравнение производительности Find() vs Select() для одиночного поиска;
   - Поиск с использованием DataView и BinarySearch();
5. Создайте метод для поиска диапазона ID (от X до Y);
6. Реализуйте поиск с обработкой исключений (неверный тип данных, null ID);
7. Выведите результаты в понятном формате.

**Требования:** Используйте Find() для точного поиска по PK. Продемонстрируйте преимущества Find() по производительности. Обработайте все ошибки. Выведите подробную информацию о найденном сотруднике.

---

## Задание 3: Фильтрация данных с использованием метода Select()

**Описание:** Создайте приложение для демонстрации различных фильтров через Select():

1. Создайте DataTable "Заказы" (OrderID, CustomerID, OrderDate, Amount, Status, ShippingAddress);
2. Заполните таблицу 100+ заказами;
3. Реализуйте различные фильтры через Select():
   - Заказы с суммой больше X;
   - Заказы определённого статуса (Pending, Processing, Shipped, Delivered);
   - Заказы в определённом диапазоне дат;
   - Комбинированные фильтры (статус AND сумма > X);
   - Заказы определённого клиента;
   - Заказы с использованием LIKE для поиска в адресе;
4. Реализуйте сортировку результатов через второй параметр Select();
5. Сравните синтаксис Select() с LINQ (если применимо);
6. Создайте метод для построения фильтра динамически (на основе параметров);
7. Выведите результаты в таблице.

**Требования:** Используйте различные операторы в фильтре (>, <, =, LIKE, AND, OR). Обработайте ошибки синтаксиса фильтра. Выведите количество найденных записей. Покажите производительность для большого числа записей.

---

## Задание 4: Создание объекта DataView различными способами

**Описание:** Создайте приложение, которое демонстрирует различные способы создания DataView:

1. Создайте DataTable с информацией о студентах (StudentID, Name, GPA, Speciality, EnrollmentYear);
2. Заполните таблицу 100 студентами;
3. Создайте DataView несколькими способами:
   - Способ 1: new DataView(table);
   - Способ 2: new DataView(table, "GPA > 3.5", "Name ASC", DataViewRowState.CurrentRows);
   - Способ 3: Через таблицу.DefaultView;
   - Способ 4: Через конструктор с фильтром в объекте DataView после создания;
4. Для каждого способа выведите:
   - Количество строк в DataView;
   - Содержимое первых 5 строк;
   - Текущий фильтр и сортировка;
5. Создайте метод для сравнения различных способов создания;
6. Продемонстрируйте изменение фильтра после создания DataView.

**Требования:** Используйте все варианты конструкторов. Выведите различия в результатах. Покажите, как изменения в исходной таблице отражаются в DataView.

---

## Задание 5: Сортировка и фильтрация в DataView

**Описание:** Создайте приложение с комплексной фильтрацией и сортировкой:

1. Создайте DataTable "Продажи" (SalesID, ProductName, SalesDate, Quantity, Price, Salesperson, Region);
2. Заполните таблицу 200+ записями о продажах;
3. Создайте DataView и реализуйте следующие операции:
   - Фильтрация по регионам;
   - Фильтрация по диапазону дат;
   - Фильтрация по минимальной сумме продажи (Quantity * Price);
   - Комбинированные фильтры;
4. Реализуйте различные варианты сортировки:
   - Сортировка по дате (возрастание/убывание);
   - Сортировка по продавцу;
   - Многоуровневая сортировка (RegionASC, DateDESC);
5. Создайте метод для динамического изменения Sort в зависимости от пользовательского выбора;
6. Создайте метод для сброса фильтров и сортировки;
7. Выведите результаты в DataGridView или консоль.

**Требования:** Используйте свойства RowFilter и Sort. Обработайте ошибки синтаксиса. Выведите фильтр и сортировку в текущем состоянии. Покажите количество отфильтрованных записей.

---

## Задание 6: Использование DataViewRowState для фильтрации по состоянию строк

**Описание:** Создайте приложение для работы с DataViewRowState:

1. Создайте DataTable "Счета" (InvoiceID, CustomerName, Amount, Status, DueDate);
2. Заполните таблицу тестовыми данными;
3. Выполните операции:
   - Добавьте 5 новых счетов;
   - Модифицируйте 3 существующих счета;
   - Удалите 2 счета (используя DataRow.Delete());
4. Создайте несколько DataView с разными значениями DataViewRowState:
   - DataViewRowState.CurrentRows (только текущие строки, без удаленных);
   - DataViewRowState.OriginalRows (только оригинальные строки);
   - DataViewRowState.Added (только добавленные);
   - DataViewRowState.Modified (только изменённые);
   - DataViewRowState.Deleted (только удалённые);
   - Комбинированные (например, Added | Modified);
5. Для каждого фильтра выведите:
   - Количество строк;
   - Содержимое строк;
6. Создайте отчёт о всех изменениях перед AcceptChanges();
7. Реализуйте функцию отката изменений (RejectChanges).

**Требования:** Используйте все возможные значения DataViewRowState. Покажите разницу между различными состояниями. Выведите результаты в структурированном формате.

---

## Задание 7: Поиск данных в DataView с использованием метода Find()

**Описание:** Создайте приложение для поиска в DataView:

1. Создайте DataTable "Книги" (BookID, Title, Author, ISBN, Year, Price, Category);
2. Установите первичный ключ на BookID;
3. Создайте DataView с фильтром по категории;
4. Реализуйте поиск:
   - Поиск книги по ISBN (используя Find());
   - Проверка работы Find() на DataView;
   - Сравнение Find() на DataTable vs DataView (производительность);
5. Создайте метод для поиска нескольких критериев (например, автор AND год);
6. Реализуйте поиск с использованием BinarySearch() (если DataView отсортирована);
7. Обработайте случаи, когда книга не найдена;
8. Выведите результаты с информацией о найденной книге.

**Требования:** Используйте Find() для точного поиска. Обработайте NULL результаты. Продемонстрируйте разницу между поиском в DataTable и DataView. Выведите результаты в удобном формате.

---

## Задание 8: Добавление данных через DataView

**Описание:** Создайте приложение для добавления данных через DataView:

1. Создайте DataTable "Клиенты" (CustomerID, Name, Email, Phone, City, Status);
2. Создайте DataView с фильтром (например, Status = 'Active');
3. Добавьте новых клиентов несколькими способами:
   - Добавление через DataView.AddNew();
   - Добавление новой строки в исходную таблицу и проверка её появления в DataView;
   - Добавление клиента с нарушением фильтра (например, Status = 'Inactive') и проверка видимости;
4. Реализуйте:
   - Добавление с валидацией (проверка email, длины имени и т.д.);
   - Обработку исключений при нарушении ограничений (PK, NOT NULL);
   - Автоматическое обновление ID (если используется IDENTITY);
5. Выведите все клиенты после добавления;
6. Выведите, как добавление одного клиента отражается на других DataView той же таблицы.

**Требования:** Используйте AddNew(). Обработайте исключения. Выведите результаты до и после добавления. Покажите влияние фильтра на видимость новых данных.

---

## Задание 9: Редактирование данных через DataView

**Описание:** Создайте приложение для редактирования данных через DataView:

1. Создайте DataTable "Сотрудники" (EmployeeID, Name, Salary, Department, HireDate, Status);
2. Заполните таблицу 50 сотрудниками;
3. Создайте DataView с фильтром по отделу;
4. Реализуйте редактирование:
   - Поиск сотрудника через Find();
   - Изменение данных (зарплата, статус) через DataView;
   - Проверка, что изменения отражаются в исходной DataTable;
   - Редактирование с валидацией (зарплата > 0, статус из списка);
5. Реализуйте массовое редактирование (например, повышение зарплаты на 10% для всех в отделе);
6. Обработайте исключения (попытка редактирования удалённой строки);
7. Создайте отчёт о всех изменениях;
8. Выведите результаты в таблице.

**Требования:** Используйте Find() для поиска. Обработайте все ошибки. Выведите "до" и "после" для каждого изменения. Покажите, как изменения отражаются на других DataView.

---

## Задание 10: Удаление данных через DataView

**Описание:** Создайте приложение для удаления данных через DataView:

1. Создайте DataTable "Заказы" (OrderID, CustomerID, Amount, Status, CreationDate);
2. Заполните таблицу 100 заказами;
3. Создайте DataView с фильтром по статусу;
4. Реализуйте удаление:
   - Удаление конкретного заказа через Delete();
   - Удаление через DataView и проверка отражения в исходной таблице;
   - Массовое удаление (все заказы со статусом 'Cancelled');
   - Удаление с подтверждением (вывод информации перед удалением);
5. Реализуйте функцию отката удаления (RejectChanges на конкретных строках);
6. Обработайте исключения (нарушение ограничений, попытка удаления несуществующего заказа);
7. Создайте отчёт об удалённых заказах;
8. Выведите статистику перед AcceptChanges().

**Требования:** Используйте RowState для проверки статуса. Обработайте все ошибки. Выведите подробный отчёт об удалённых записях. Покажите результаты на других DataView той же таблицы.

---

## Задание 11: Создание новой DataTable из DataView

**Описание:** Создайте приложение для создания новой таблицы на основе DataView:

1. Создайте исходную DataTable "Продукты" (ProductID, Name, Category, Price, InStock, Supplier);
2. Заполните таблицу 100+ товарами;
3. Создайте DataView с фильтром и сортировкой;
4. Создайте новую DataTable из DataView несколькими способами:
   - Способ 1: Используя DataView.ToTable() (если доступен);
   - Способ 2: Ручное копирование данных через цикл;
   - Способ 3: Копирование только некоторых колонок;
   - Способ 4: Копирование с изменением имён колонок;
5. Реализуйте:
   - Создание таблицы с указанными колонками (не все);
   - Создание таблицы с преобразованием данных (например, цена в другой валюте);
   - Создание с добавлением новых рассчитываемых колонок;
6. Сравните исходную таблицу и созданную;
7. Проверьте, что новая таблица независима от исходной.

**Требования:** Используйте ToTable() если доступен. Обработайте различные типы колонок. Выведите схему обеих таблиц. Покажите, что новая таблица независима от исходной.

---

## Задание 12: Сочетание Find(), Select() и DataView для комплексного поиска

**Описание:** Создайте приложение, которое использует все методы поиска вместе:

1. Создайте DataTable "Счёта в банке" (AccountID, CustomerName, Balance, AccountType, OpenDate, Status);
2. Заполните таблицу 200 счётами;
3. Реализуйте комплексный поиск:
   - Используя Find() для поиска по PK (AccountID);
   - Используя Select() для фильтрации по критериям (Balance > X, Status = Active);
   - Используя DataView для комбинированного поиска;
4. Создайте метод "умного поиска", который автоматически выбирает лучший способ:
   - Если ищем по PK → используем Find();
   - Если ищем с одним критерием → Select();
   - Если много фильтров → DataView;
5. Реализуйте поиск с автодополнением (поиск по первым буквам имени);
6. Создайте отчёт о найденных счётах с полной информацией;
7. Измерьте производительность каждого подхода.

**Требования:** Используйте все три метода поиска. Обработайте ошибки синтаксиса. Выведите результаты в таблице. Покажите времена выполнения каждого способа.

---

## Задание 13: DataView с несколькими уровнями фильтрации

**Описание:** Создайте приложение для многоуровневой фильтрации:

1. Создайте DataTable "События" (EventID, EventName, Date, Location, Category, Priority, Status, Attendees);
2. Заполните таблицу 300+ событиями;
3. Создайте DataView и реализуйте фильтрацию в несколько этапов:
   - 1 уровень: Фильтр по категории;
   - 2 уровень: Добавить фильтр по приоритету (Status & Priority);
   - 3 уровень: Добавить фильтр по дате (только будущие события);
   - 4 уровень: Добавить фильтр по количеству участников (> X);
4. На каждом уровне выведите количество подходящих записей;
5. Реализуйте функцию удаления одного из фильтров (например, отменить фильтр по дате);
6. Реализуйте функцию сброса всех фильтров;
7. Создайте отчёт о каждом уровне фильтрации;
8. Добавьте возможность сохранения и загрузки конфигурации фильтров.

**Требования:** Используйте свойство RowFilter для добавления новых условий. Выведите результаты на каждом уровне. Покажите, как изменение одного фильтра влияет на результаты.

---

## Задание 14: Сортировка по несколькимколонкам в DataView

**Описание:** Создайте приложение для многоуровневой сортировки:

1. Создайте DataTable "Продажи сотрудников" (SalesID, EmployeeName, Department, Amount, Date, Quarter, Region);
2. Заполните таблицу 500+ записями;
3. Реализуйте различные варианты сортировки:
   - Сортировка по одной колонке (Amount DESC);
   - Сортировка по двум колонкам (Department ASC, Amount DESC);
   - Сортировка по трём колонкам (Region ASC, Department ASC, Date DESC);
   - Динамическая сортировка на основе пользовательского выбора;
4. Создайте интерфейс для выбора колонок и направления сортировки;
5. Реализуйте переключение между возрастанием и убыванием по одной колонке;
6. Выведите результаты в таблице;
7. Покажите, как изменение сортировки влияет на производительность;
8. Сравните сортировку в DataView с сортировкой через Select().

**Требования:** Используйте свойство Sort. Обработайте ошибки синтаксиса. Выведите результаты в понятном формате. Покажите иерархию сортировки.

---

## Задание 15: Комбинирование нескольких DataView для анализа данных

**Описание:** Создайте приложение для работы с несколькими представлениями одной таблицы:

1. Создайте DataTable "Студенты" (StudentID, Name, GPA, Faculty, Year, Status);
2. Заполните таблицу 200 студентами;
3. Создайте несколько DataView одновременно:
   - DataView 1: Лучшие студенты (GPA > 4.0);
   - DataView 2: Студенты первого курса;
   - DataView 3: Студенты в академическом отпуске;
   - DataView 4: Все студенты, отсортированные по Faculty;
4. Для каждого DataView выведите:
   - Количество студентов;
   - Список студентов;
   - Среднее GPA;
5. Реализуйте поиск студента одновременно во всех DataView;
6. Добавьте нового студента и проверьте, как это влияет на все DataView;
7. Создайте отчёт, который показывает все представления одной таблицы одновременно;
8. Измерьте использование памяти при создании нескольких DataView.

**Требования:** Используйте одну исходную таблицу и несколько DataView. Покажите независимость представлений. Выведите результаты в структурированном виде.

---

## Задание 16: Динамическое изменение фильтра и сортировки в реальном времени

**Описание:** Создайте интерактивное приложение с динамическим фильтром:

1. Создайте DataTable "Фильмы" (MovieID, Title, Director, Year, Genre, Rating, BoxOffice);
2. Заполните таблицу 300 фильмами;
3. Создайте DataView с начальным фильтром;
4. Реализуйте интерактивные элементы управления:
   - ComboBox для выбора жанра (динамически обновляет фильтр);
   - TextBox для поиска по названию (LIKE фильтр);
   - Slider для выбора диапазона рейтинга;
   - RadioButtons для выбора сортировки (по году, по рейтингу, по кассе);
5. Обновляйте DataView в реальном времени при каждом изменении фильтра;
6. Выводите результаты в DataGridView;
7. Покажите количество результатов для каждого фильтра;
8. Добавьте кнопку "Сброс фильтров";
9. Сохраняйте последний использованный фильтр.

**Требования:** Используйте события (TextChanged, SelectedIndexChanged) для обновления DataView. Выведите результаты в DataGridView. Покажите, что изменение фильтра не влияет на исходную таблицу.

---

## Задание 17: Использование DataView для создания графиков/диаграмм

**Описание:** Создайте приложение для визуализации данных с помощью DataView:

1. Создайте DataTable "Продажи по месяцам" (SalesID, Month, Product, Amount, Region);
2. Заполните таблицу данными за год;
3. Создайте несколько DataView для различных представлений:
   - По регионам;
   - По продуктам;
   - По месяцам;
4. Используя данные из DataView, создайте:
   - График общих продаж по месяцам;
   - Диаграмму продаж по регионам;
   - Диаграмму продаж по продуктам;
5. Реализуйте интерактивное обновление диаграмм при изменении фильтра;
6. Добавьте возможность фильтрации диаграмм (например, показать только определённый регион);
7. Вычислите итоговые значения для каждого представления;
8. Выведите легенду и оси координат.

**Требования:** Используйте DataView для получения данных для графиков. Реализуйте несколько типов диаграмм. Обновляйте диаграммы при изменении фильтра.

---

## Задание 18: Поиск ближайших значений в DataView

**Описание:** Создайте приложение для поиска ближайших значений:

1. Создайте DataTable "Цены на акции" (StockID, CompanyName, Price, Date, Volume);
2. Заполните таблицу историческими данными (1000+ записей);
3. Создайте DataView, отсортированную по Price;
4. Реализуйте функции поиска:
   - Поиск ближайшей цены (выше и ниже указанного значения);
   - Поиск компаний в диапазоне цен (от X до Y);
   - Поиск акции с максимальной ценой в диапазоне;
   - Поиск акции с минимальной ценой в диапазоне;
   - Поиск "скачков" цены (изменения > 10%);
5. Используйте BinarySearch() для оптимальной производительности;
6. Выведите результаты в таблице;
7. Измерьте производительность различных методов поиска.

**Требования:** Используйте BinarySearch() для эффективного поиска. Обработайте граничные случаи. Выведите результаты с полной информацией. Покажите производительность.

---

## Задание 19: Валидация данных при редактировании через DataView

**Описание:** Создайте приложение с валидацией данных:

1. Создайте DataTable "Контакты" (ContactID, Name, Email, Phone, Address, BirthDate);
2. Заполните таблицу 100 контактами;
3. Создайте DataView без фильтра;
4. Реализуйте валидацию при редактировании:
   - Email должен содержать '@';
   - Телефон должен быть в формате (XXX)XXX-XXXX;
   - Имя не может быть пустым;
   - Дата рождения не может быть в будущем;
   - Адрес не может быть пустым;
5. Добавьте обработчик ошибок, который выводит сообщение при нарушении правила;
6. Реализуйте автоисправление (например, автоформатирование телефона);
7. Создайте логирование всех попыток редактирования (успешных и неудачных);
8. Выведите статистику ошибок валидации.

**Требования:** Используйте ColumnChanged события для валидации. Обработайте все типы ошибок. Выведите подробные сообщения об ошибках. Создайте отчёт о валидации.

---

## Задание 20: Экспорт данных из DataView в различные форматы

**Описание:** Создайте приложение для экспорта DataView в различные форматы:

1. Создайте DataTable "Отчёт о продажах" (ReportID, Date, Product, Quantity, Price, Salesperson, Region);
2. Заполните таблицу 500 записями;
3. Создайте DataView с фильтром и сортировкой;
4. Реализуйте экспорт в форматы:
   - CSV (с правильной обработкой спецсимволов);
   - Excel (если доступен OLEDB или EPPlus);
   - XML;
   - JSON;
   - HTML таблица;
5. Для каждого формата создайте соответствующий метод;
6. Добавьте заголовок с информацией об экспорте (дата, количество строк, применённый фильтр);
7. Реализуйте сохранение файла;
8. Добавьте функцию импорта из этих форматов обратно в DataTable.

**Требования:** Используйте данные из DataView для экспорта. Обработайте спецсимволы. Выведите информацию об экспорте. Создайте несколько вариантов одного формата.

---

## Задание 21: Использование DataView для создания иерархических представлений

**Описание:** Создайте приложение для создания иерархической структуры данных:

1. Создайте DataTable "Категории" (CategoryID, CategoryName, ParentCategoryID, Description);
2. Создайте DataTable "Товары" (ProductID, ProductName, CategoryID, Price);
3. Заполните таблицы данными с иерархией;
4. Создайте несколько DataView:
   - DataView для каждого уровня категорий;
   - DataView для товаров в конкретной категории;
5. Реализуйте навигацию по иерархии:
   - Получение родительской категории;
   - Получение подкатегорий;
   - Получение всех товаров категории и её подкатегорий;
6. Выведите иерархию в виде дерева (или отступов в консоли);
7. Создайте метод для поиска товара во всей иерархии;
8. Добавьте функцию развёртывания/свёртывания категорий.

**Требования:** Используйте несколько связанных DataView. Обработайте рекурсивную структуру. Выведите иерархию в понятном формате. Позвольте навигацию по дереву.

---

## Задание 22: Комплексная фильтрация с использованием LIKE и других операторов

**Описание:** Создайте приложение для продвинутого поиска с использованием различных операторов:

1. Создайте DataTable "Документы" (DocumentID, Title, Content, Author, Date, Type, Status);
2. Заполните таблицу 1000 документами;
3. Создайте DataView и реализуйте поиск с использованием:
   - LIKE для частичного совпадения текста;
   - BETWEEN для диапазонов дат;
   - IN для списка значений;
   - Комбинированные условия (AND, OR, NOT);
   - Поиск с учётом регистра (если поддерживается);
4. Создайте метод для построения фильтра на основе параметров пользователя;
5. Реализуйте подсказки при вводе (автодополнение);
6. Выведите результаты в таблице;
7. Сравните производительность различных фильтров;
8. Создайте отчёт о сложных поисках.

**Требования:** Используйте различные операторы в RowFilter. Обработайте ошибки синтаксиса. Выведите результаты в удобном формате. Покажите производительность.

---

## Задание 23: Использование DataView для создания отчётов с группировкой

**Описание:** Создайте приложение для создания отчётов с группировкой данных:

1. Создайте DataTable "Заказы" (OrderID, CustomerName, Product, Amount, Date, Region, Status);
2. Заполните таблицу 1000 заказов;
3. Используя DataView для фильтрации и сортировки, создайте отчёты:
   - Группировка по регионам (сумма продаж по регионам);
   - Группировка по статусу заказа;
   - Группировка по месяцам;
   - Многоуровневая группировка (регион → месяц → статус);
4. Вычислите итоговые значения для каждой группы;
5. Создайте метод для создания таблицы с результатами группировки;
6. Выведите отчёт в формате с индентацией (для наглядности);
7. Добавьте возможность фильтрации отчёта (например, только успешные заказы);
8. Экспортируйте отчёт в файл.

**Требования:** Используйте DataView для получения данных. Реализуйте группировку программно (через цикл и логику). Выведите результаты в структурированном виде. Добавьте итоги.

---

## Задание 24: DataView с вычисляемыми столбцами

**Описание:** Создайте приложение для работы с вычисляемыми данными:

1. Создайте DataTable "Заказы товаров" (OrderDetailID, OrderID, ProductName, Quantity, UnitPrice, Discount);
2. Добавьте вычисляемую колонку "Total" = Quantity * UnitPrice;
3. Добавьте вычисляемую колонку "DiscountedTotal" = Total * (1 - Discount);
4. Заполните таблицу 200+ записями;
5. Создайте DataView и реализуйте:
   - Фильтрацию по вычисляемому полю (DiscountedTotal > 1000);
   - Сортировку по вычисляемому полю;
   - Получение максимального и минимального значения вычисляемого поля;
   - Сумму всех вычисляемых значений;
6. Выведите результаты в таблице;
7. Продемонстрируйте, как изменение исходных значений обновляет вычисляемые поля;
8. Сравните производительность фильтрации по обычному и вычисляемому полю.

**Требования:** Используйте выражения в DataColumn. Создайте несколько вычисляемых столбцов. Выведите результаты с вычисляемыми значениями. Покажите обновление при изменении данных.

---

## Задание 25: Поиск дубликатов с использованием DataView

**Описание:** Создайте приложение для поиска и обработки дубликатов:

1. Создайте DataTable "Электронные письма" (EmailID, EmailAddress, Name, Domain, Duplicates);
2. Заполните таблицу 500 письмами, включая дубликаты;
3. Используя DataView, реализуйте функции:
   - Поиск точных дубликатов (одинаковые email);
   - Поиск похожих дубликатов (похожие названия, но разные домены);
   - Подсчёт количества дубликатов;
   - Создание DataView только дубликатов;
   - Создание DataView только уникальных записей;
4. Реализуйте выбор "главной" записи при дубликатах;
5. Реализуйте объединение дубликатов;
6. Создайте отчёт о найденных дубликатах;
7. Выведите статистику (сколько дубликатов, сколько уникальных).

**Требования:** Используйте Select() или DataView для поиска дубликатов. Обработайте различные типы дубликатов. Выведите результаты в таблице. Создайте отчёт с рекомендациями.

---

## Задание 26: Синхронизация нескольких DataView при изменении данных

**Описание:** Создайте приложение для синхронизации представлений:

1. Создайте DataTable "Товары" (ProductID, Name, Category, Price, Stock);
2. Создайте несколько связанных DataTable (например, "Категории", "Скидки");
3. Создайте несколько DataView для основной таблицы:
   - DataView 1: По категориям;
   - DataView 2: Дорогие товары (Price > 1000);
   - DataView 3: Отсортированы по цене;
4. Реализуйте:
   - Синхронизацию при добавлении товара (он должен появиться во всех подходящих DataView);
   - Синхронизацию при удалении товара;
   - Синхронизацию при изменении цены (товар может переместиться в другой DataView);
5. Отобразите несколько DataView в разных местах UI;
6. Проверьте, что все DataView остаются синхронизированными;
7. Создайте логирование всех изменений;
8. Выведите статистику синхронизации.

**Требования:** Используйте RowChanged события для синхронизации. Выведите все DataView одновременно. Покажите синхронизацию при любых изменениях.

---

## Задание 27: Использование DataView для оптимизации производительности больших таблиц

**Описание:** Создайте приложение для демонстрации преимуществ DataView для производительности:

1. Создайте большую DataTable "Логи" (LogID, Timestamp, Level, Message, Source, EventID) с 1,000,000+ записей;
2. Реализуйте различные сценарии:
   - Сценарий 1: Поиск в исходной DataTable через Select();
   - Сценарий 2: Создание DataView с фильтром;
   - Сценарий 3: Повторный поиск в том же DataView;
   - Сценарий 4: Создание индекса на исходной таблице и поиск через Find();
3. Для каждого сценария измерьте:
   - Время первого выполнения;
   - Время повторного выполнения;
   - Использованную память;
4. Создайте отчёт о производительности;
5. Дайте рекомендации по использованию DataView для оптимизации;
6. Покажите, как кэширование результатов может улучшить производительность;
7. Сравните использование памяти для DataView vs Select().

**Требования:** Используйте System.Diagnostics для измерения. Работайте с большим объёмом данных. Выведите результаты в таблице и графиках. Дайте конкретные рекомендации.

---

## Задание 28: Реализация кастомного поиска с использованием DataView

**Описание:** Создайте приложение с продвинутым поиском:

1. Создайте DataTable "Библиотека" (BookID, Title, Author, Year, ISBN, Genre, Rating, Pages);
2. Заполните таблицу 500 книг;
3. Создайте класс "SearchEngine" с методами:
   - Поиск по автору (частичное совпадение);
   - Поиск по названию;
   - Поиск по жанру;
   - Поиск по году издания (диапазон);
   - Поиск по рейтингу (минимальное значение);
   - Комбинированный поиск;
4. Каждый метод должен возвращать DataView с отфильтрованными результатами;
5. Реализуйте сохранение истории поисков;
6. Реализуйте рекомендации на основе истории;
7. Добавьте функцию сохранения результатов поиска;
8. Создайте интерфейс для выполнения поисков и просмотра результатов.

**Требования:** Используйте DataView для поиска. Реализуйте класс SearchEngine. Обработайте все типы поисков. Выведите результаты в удобном формате. Добавьте историю.

---

## Задание 29: Использование DataView для создания пользовательских представлений в приложении

**Описание:** Создайте приложение с множеством представлений одних и тех же данных:

1. Создайте DataTable "Сотрудники" (EmployeeID, Name, Department, Salary, HireDate, Status);
2. Создайте несколько DataView для различных пользователей:
   - HR Manager: все сотрудники, отсортированы по зарплате;
   - Department Head: только сотрудники его отдела;
   - Finance: только активные сотрудники с зарплатой > X;
   - General: только имя и должность;
3. Каждый пользователь видит только те колонки и строки, которые ему разрешены;
4. Реализуйте:
   - Логирование доступа (кто, когда, какие данные просмотрел);
   - Ограничение прав на редактирование (не все пользователи могут редактировать);
   - Аудит изменений (кто что изменил);
5. Создайте интерфейс для выбора представления;
6. Выведите результаты в DataGridView;
7. Создайте отчёт о доступе к данным;
8. Добавьте экспорт в различные форматы.

**Требования:** Используйте несколько DataView для различных пользователей. Реализуйте ограничения доступа. Выведите логи доступа. Создайте отчёты.

---

## Задание 30: Комплексное приложение "Управление проектами" с использованием всех концепций DataView

**Описание:** Создайте полнофункциональное приложение для управления проектами:

1. Создайте несколько DataTable:
   - Проекты (ProjectID, ProjectName, Status, StartDate, EndDate, Manager, Budget);
   - Задачи (TaskID, ProjectID, TaskName, AssignedTo, Status, Priority, DueDate);
   - Ресурсы (ResourceID, ResourceName, Type, ProjectID, HourlyRate);
   - Логи работы (LogID, TaskID, ResourceID, Hours, Date, Notes);

2. Создайте DataView для различных представлений:
   - Текущие проекты;
   - Задачи по приоритету;
   - Задачи по сотруднику;
   - Задачи по статусу;
   - Перегруженные сотрудники (более 40 часов в неделю);

3. Реализуйте функции:
   - Добавление/редактирование/удаление проектов и задач;
   - Поиск по различным критериям;
   - Фильтрация по дате, статусу, приоритету;
   - Расчёт затрат проекта (на основе часов и ставок);
   - Прогноз завершения проекта;
   - Анализ использования ресурсов;

4. Создайте отчёты:
   - Статус проектов;
   - Использование ресурсов;
   - Финансовый отчёт;
   - Анализ просрочек;

5. Реализуйте:
   - Валидацию данных;
   - Обработку ошибок;
   - Логирование всех действий;
   - Экспорт данных;

6. Используйте все концепции DataView: Find(), Select(), фильтрацию, сортировку, DataViewRowState, и т.д.

**Требования:** Используйте все пройденные концепции DataView. Реализуйте полнофункциональное приложение. Создайте несколько представлений данных. Добавьте полный функционал работы с данными (CRUD). Выведите несколько отчётов. Обработайте все ошибки.

---

## Дополнительные рекомендации для всех заданий

- **Обработка исключений:** Используйте try-catch для всех операций с DataView и DataTable.
- **Валидация данных:** Проверяйте типы данных, диапазоны значений, требуемые поля.
- **Логирование:** Добавляйте подробное логирование операций для отладки.
- **Документирование:** Каждый метод должен содержать комментарии.
- **Тестирование:** Создавайте unit-тесты для критических функций.
- **UI:** Используйте DataGridView для отображения DataView, кнопки для управления фильтрами.
- **Производительность:** Используйте Find() вместо Select() где возможно, кэшируйте результаты.
- **Целостность данных:** Проверяйте ограничения перед сохранением.
- **Асинхронность:** Для больших таблиц используйте BackgroundWorker или Task.
- **Кэширование:** Сохраняйте результаты часто используемых запросов.